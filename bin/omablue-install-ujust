#!/bin/bash

# --- Secureblue Header ---
# Ensure the local binary path is included for custom recipes
export PATH="$HOME/.local/share/omablue/bin:$PATH"

# Notification metadata
TITLE="Omablue Ujust"

# 1. Dependency Check
# Verify if ujust is present in the immutable system path
if ! command -v ujust &>/dev/null; then
  notify-send -u critical "$TITLE" "Error: ujust is not installed or not in PATH."
  exit 1
fi

# 2. Execution Logic
# We remove 'exec' to prevent the terminal from closing immediately after the command
echo "Starting ujust --choose..."
echo "Please follow the on-screen prompts for system configuration."
echo "------------------------------------------------------------"

# Run ujust choose directly
ujust --choose

# 3. Persistence Layer (Omarchy Style)
# This prevents the terminal window (e.g., foot) from vanishing before you see the result
echo ""
echo "------------------------------------------------------------"
echo "Task completed. Press [Enter] to close this window."
read -r
